<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<!--
============================================================================
π― νμ›κ°€μ… μ²λ¦¬ νλ¦„:
============================================================================

1. μ‚¬μ©μκ°€ νΌ μ…λ ¥ ν›„ "νμ›κ°€μ…" λ²„νΌ ν΄λ¦­

2. POST /register μ”μ²­ λ°μƒ
   - formμ λ¨λ“  input name μ†μ„±μ΄ νλΌλ―Έν„°λ΅ μ „μ†΅
   - username, password, name, age, email

3. MemberController.register(Member member) λ©”μ„λ“ μ‹¤ν–‰
   - Springμ΄ μλ™μΌλ΅ νλΌλ―Έν„°λ¥Ό Member κ°μ²΄μ— λ°”μΈλ”©
   - name μ†μ„±κ³Ό Member ν•„λ“λ…μ΄ μΌμΉν•λ©΄ μλ™ λ§¤ν•‘

4. MemberService.register() νΈμ¶
   - BCryptPasswordEncoderλ΅ ν¨μ¤μ›λ“ μ•”νΈν™”
   - USER κ¶ν• μλ™ λ¶€μ—¬
   - DB μ €μ¥

5. μ„±κ³µ μ‹ /ui/listλ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
   - λ©”μΈ νμ΄μ§€(λ΅κ·ΈμΈ ν™”λ©΄)λ΅ μ΄λ™

============================================================================
π’΅ κ°μ„  ν¬μΈνΈ:
============================================================================

1. μ ν¨μ„± κ²€μ¦ μ¶”κ°€ ν•„μ”
   - required μ†μ„± μ¶”κ°€
   - pattern μ†μ„±μΌλ΅ ν•μ‹ κ²€μ¦
   - JavaScript μ ν¨μ„± κ²€μ‚¬

2. CSRF ν† ν° (Spring Security μλ™ μ²λ¦¬)
   - Thymeleafκ°€ μλ™μΌλ΅ CSRF ν† ν° μ¶”κ°€
   - λ³΄μ•μƒ μ¤‘μ”ν• κΈ°λ¥

3. μ—λ¬ μ²λ¦¬
   - μ¤‘λ³µ username μ²΄ν¬
   - μ—λ¬ λ©”μ‹μ§€ ν‘μ‹ μμ—­ μ¶”κ°€

4. type="type" β†’ type="email" μμ • ν•„μ”

============================================================================
-->
<!-- Bootstrap container: μ¤‘μ•™ μ •λ ¬λ λ°μ‘ν• μ»¨ν…μ΄λ„, mt-4λ” margin-top 4λ‹¨μ„ -->
<div class="container mt-4">
    <h2> νμ›μΈμ¦ μ‹μ¤ν…</h2>

    <!-- Bootstrap Card μ»΄ν¬λ„νΈ: μ½ν…μΈ λ¥Ό μΉ΄λ“ ν•νƒλ΅ κ·Έλ£Ήν™” -->
    <div class="card">
        <!-- Card ν—¤λ”: μ λ© μμ—­ -->
        <div class="card-header">
            νμ›κ°€μ…
        </div>

        <!-- Card λ³Έλ¬Έ: μ‹¤μ  νΌμ΄ λ“¤μ–΄κ°€λ” μμ—­ -->
        <div class="card-body">
            <!-- νμ›κ°€μ… νΌ μ‹μ‘ -->
            <!-- th:action="@{/register}": Thymeleafκ°€ μ»¨ν…μ¤νΈ κ²½λ΅λ¥Ό μλ™μΌλ΅ μ¶”κ°€ -->
            <!-- method="post": POST λ°©μ‹μΌλ΅ λ°μ΄ν„° μ „μ†΅ (λ³΄μ•μƒ μ•μ „) -->
            <form th:action="@{/register}" method="post">

                <!-- Username μ…λ ¥ ν•„λ“ -->
                <div class="form-group">
                    <!-- labelμ for μ†μ„±: ν΄λ¦­ μ‹ ν•΄λ‹Ή inputμΌλ΅ ν¬μ»¤μ¤ μ΄λ™ -->
                    <label for="username">Username:</label>
                    <!-- name="username": μ„λ²„λ΅ μ „μ†΅λ  νλΌλ―Έν„°λ… (Member κ°μ²΄μ username ν•„λ“μ™€ λ§¤ν•‘) --><!-- id="username": labelκ³Ό μ—°κ²° λ° JavaScript/CSS μ„ νƒμλ΅ μ‚¬μ© -->
                    <input type="text" class="form-control" placeholder="Enter username" id="username" name="username">
                </div>

                <!-- Password μ…λ ¥ ν•„λ“ -->
                <div class="form-group">
                    <label for="password">Password:</label>
                    <!-- type="password": μ…λ ¥ λ‚΄μ©μ΄ λ§μ¤ν‚Ήλμ–΄ λ³΄μ• μ μ§€ --><!-- MemberServiceμ—μ„ BCryptλ΅ μ•”νΈν™”λμ–΄ μ €μ¥λ¨ -->
                    <input type="password" class="form-control" placeholder="Enter password" id="password" name="password">
                </div>

                <!-- μ‹¤λ… μ…λ ¥ ν•„λ“ -->
                <div class="form-group">
                    <label for="name">Name:</label>
                    <!-- Member κ°μ²΄μ name ν•„λ“μ™€ λ§¤ν•‘ -->
                    <input type="text" class="form-control" placeholder="Enter name" id="name" name="name">
                </div>

                <!-- λ‚μ΄ μ…λ ¥ ν•„λ“ -->
                <div class="form-group">
                    <label for="age">Age:</label>
                    <!-- type="number": μ«μλ§ μ…λ ¥ κ°€λ¥, μ¤ν”Όλ„ λ²„νΌ μ κ³µ --><!-- Member κ°μ²΄μ int age ν•„λ“μ™€ μλ™ ν•λ³€ν™λμ–΄ λ§¤ν•‘ -->
                    <input type="number" class="form-control" placeholder="Enter age" id="age" name="age">
                </div>

                <!-- μ΄λ©”μΌ μ…λ ¥ ν•„λ“ -->
                <div class="form-group">
                    <label for="email">Email:</label>
                    <!-- μ£Όμ: type="type"λ” μ¤νƒ€, type="email"μ΄ μ¬λ°”λ¦„ --><!-- type="email"λ΅ μμ •ν•λ©΄ μ΄λ©”μΌ ν•μ‹ μλ™ κ²€μ¦ -->
                    <input type="email" class="form-control" placeholder="Enter email" id="email" name="email">
                </div>

                <!-- μ μ¶ λ²„νΌ: POST /registerλ΅ νΌ λ°μ΄ν„° μ „μ†΅ --><!-- MemberControllerμ @PostMapping("/register") λ©”μ„λ“ νΈμ¶ -->
                <button type="submit" class="btn btn-primary">νμ›κ°€μ…</button>

                <!-- λ©”μΈν™”λ©΄ λ§ν¬: th:hrefλ΅ κ²½λ΅ μƒμ„± --><!-- GET /ui/listλ΅ μ΄λ™ (MemberControllerμ main() λ©”μ„λ“) -->
                <a th:href="@{/ui/list}" class="btn btn-primary">λ©”μΈν™”λ©΄</a>
            </form>

        </div>

        <!-- Card ν‘Έν„°: μ¶”κ°€ μ •λ³΄λ‚ μ„¤λ… μμ—­ -->
        <div class="card-footer">μ¤ν”„λ§ λ¶€νΈ(Spring Security)</div>
    </div>
</div>

</body>
</html>
